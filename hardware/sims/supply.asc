Version 4
SHEET 1 1216 740
WIRE -672 -736 -672 -768
WIRE -448 -736 -448 -768
WIRE -672 -624 -672 -656
WIRE -448 -624 -448 -656
WIRE -768 -528 -896 -528
WIRE -672 -528 -672 -560
WIRE -448 -528 -448 -560
WIRE -560 -480 -608 -480
WIRE -512 -480 -560 -480
WIRE -768 -448 -768 -528
WIRE -768 -448 -784 -448
WIRE -896 -432 -896 -528
WIRE -896 -432 -992 -432
WIRE -848 -432 -896 -432
WIRE -672 -416 -672 -432
WIRE -672 -416 -784 -416
WIRE -560 -416 -560 -480
WIRE -560 -416 -672 -416
WIRE -1168 -400 -1280 -400
WIRE -672 -400 -672 -416
WIRE -1280 -304 -1280 -400
WIRE -1264 -304 -1280 -304
WIRE -1168 -288 -1168 -400
WIRE -1168 -288 -1200 -288
WIRE -672 -288 -672 -320
WIRE -672 -288 -1168 -288
WIRE -1376 -272 -1376 -304
WIRE -1264 -272 -1376 -272
WIRE -1376 -240 -1376 -272
WIRE -640 -144 -800 -144
WIRE -448 -128 -448 -432
WIRE -448 -128 -528 -128
WIRE -368 -128 -448 -128
WIRE -528 -96 -528 -128
WIRE -368 -96 -368 -128
WIRE 96 -64 96 -96
WIRE 96 -64 64 -64
WIRE 224 -64 224 -96
WIRE -816 -48 -896 -48
WIRE -736 -32 -736 -80
WIRE 96 -32 96 -64
WIRE -896 -16 -896 -48
WIRE -800 -16 -800 -144
WIRE -768 -16 -800 -16
WIRE 160 -16 160 -48
WIRE 160 -16 128 -16
WIRE -640 0 -640 -144
WIRE -640 0 -704 0
WIRE -528 0 -528 -32
WIRE -528 0 -640 0
WIRE -368 0 -368 -32
WIRE -208 0 -368 0
WIRE -32 0 -208 0
WIRE 128 0 128 -16
WIRE -816 16 -816 -48
WIRE -768 16 -816 16
WIRE -528 32 -528 0
WIRE -368 32 -368 0
WIRE -208 32 -208 0
WIRE 160 32 160 -16
WIRE 224 48 224 16
WIRE 224 48 192 48
WIRE -1264 64 -1264 32
WIRE -1136 64 -1136 32
WIRE -1024 64 -1024 32
WIRE -736 64 -736 32
WIRE -32 64 -64 64
WIRE 192 64 192 48
WIRE 224 96 224 48
WIRE -528 128 -528 96
WIRE -448 128 -528 128
WIRE -368 128 -368 96
WIRE -368 128 -448 128
WIRE -208 128 -208 96
WIRE 320 160 288 160
WIRE 352 160 320 160
WIRE 464 160 432 160
WIRE 480 160 464 160
WIRE 576 160 560 160
WIRE 688 160 576 160
WIRE -1264 176 -1264 144
WIRE -1136 176 -1136 144
WIRE -1024 176 -1024 144
WIRE -896 176 -896 144
WIRE -672 176 -752 176
WIRE 576 192 576 160
WIRE 688 192 688 160
WIRE -672 208 -672 176
WIRE 320 224 320 160
WIRE 320 224 224 224
WIRE -1280 256 -1392 256
WIRE -752 256 -752 176
WIRE -752 256 -1280 256
WIRE 256 256 256 192
WIRE 256 256 192 256
WIRE 464 256 464 160
WIRE 464 256 256 256
WIRE -32 288 -80 288
WIRE 576 288 576 256
WIRE 688 288 688 272
WIRE -672 304 -672 288
WIRE -672 304 -720 304
WIRE -560 304 -672 304
WIRE -784 320 -912 320
WIRE -672 320 -672 304
WIRE -448 320 -448 128
WIRE 160 320 160 288
WIRE 160 320 128 320
WIRE -1392 352 -1392 256
WIRE -1376 352 -1392 352
WIRE -1280 368 -1280 256
WIRE -1280 368 -1312 368
WIRE -560 368 -560 304
WIRE -560 368 -608 368
WIRE -512 368 -560 368
WIRE 160 368 160 320
WIRE -1488 384 -1488 352
WIRE -1376 384 -1488 384
WIRE 96 384 96 352
WIRE -784 400 -784 320
WIRE -784 400 -800 400
WIRE -1488 416 -1488 384
WIRE -912 416 -912 320
WIRE -912 416 -1008 416
WIRE -864 416 -912 416
WIRE -720 432 -720 304
WIRE -720 432 -800 432
WIRE -672 448 -672 416
WIRE -448 448 -448 416
WIRE -80 480 -80 288
WIRE 144 480 -80 480
WIRE 464 480 464 256
WIRE 464 480 224 480
WIRE -672 560 -672 528
WIRE -448 560 -448 528
WIRE -80 560 -80 480
WIRE 160 560 -80 560
WIRE 464 560 464 480
WIRE 464 560 224 560
FLAG -1136 176 0
FLAG -1136 32 v+
FLAG -1024 176 v-
FLAG -1024 32 0
FLAG 160 368 v-
FLAG 96 -96 v+
FLAG 96 384 0
FLAG -64 64 v+
FLAG -1264 32 vlim
FLAG -1264 176 0
FLAG 160 -48 vlim
FLAG 224 -96 vlim
FLAG -896 176 0
FLAG 576 288 0
FLAG 688 288 0
FLAG -208 128 0
FLAG -736 64 v-
FLAG -736 -80 v+
FLAG -672 -768 v+
FLAG -448 -768 v+
FLAG -448 624 v-
FLAG -672 624 v-
FLAG -816 -464 v+
FLAG -816 -400 v-
FLAG -832 384 v+
FLAG -832 448 v-
FLAG -992 -432 lim+
FLAG -1008 416 lim-
FLAG -1488 496 lim-
FLAG -1488 272 lim+
FLAG -1376 -160 lim-
FLAG -1376 -384 lim+
FLAG -1232 -320 v+
FLAG -1344 336 v+
FLAG -1344 400 v-
FLAG -1232 -256 v-
SYMBOL Opamps\\LT1970 128 160 R0
SYMATTR InstName U1
SYMBOL res 448 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL voltage -1136 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL voltage -1024 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL voltage -1264 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 208 -80 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL voltage -896 48 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR Value PULSE(0 1.5 10m 10u 10u 100m 200m)
SYMATTR InstName V4
SYMBOL cap 560 192 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL current 688 192 R0
WINDOW 3 24 80 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 0 80m 100u 100u 50m 200m)
SYMATTR InstName I1
SYMBOL res 240 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 224 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL diode -544 -96 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL cap -224 32 R0
SYMATTR InstName C3
SYMATTR Value 20n
SYMBOL diode -384 -96 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode -544 32 R0
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL diode -384 32 R0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL Opamps\\LT1002 -736 -64 R0
SYMATTR InstName U2
SYMBOL pnp -608 -432 R180
SYMATTR InstName Q1
SYMBOL pnp -512 -432 M180
SYMATTR InstName Q2
SYMBOL res -464 -752 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -688 -752 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -688 -416 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL npn -512 320 R0
SYMATTR InstName Q3
SYMBOL npn -608 320 M0
SYMATTR InstName Q4
SYMBOL res -688 192 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -688 432 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res -464 432 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 576 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1g
SYMBOL Opamps\\LT1002 -816 -496 M0
SYMATTR InstName U3
SYMBOL Opamps\\LT1002 -832 352 M0
SYMATTR InstName U4
SYMBOL voltage -896 -32 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR Value PULSE(0 1.5 12m 10u 10u 100m 200m)
SYMATTR InstName V6
SYMBOL Opamps\\LT1002 -1344 304 R0
SYMATTR InstName U6
SYMBOL res -1504 256 R0
SYMATTR InstName R11
SYMATTR Value {rLow}
SYMBOL res -1504 400 R0
SYMATTR InstName R12
SYMATTR Value {rHigh}
SYMBOL Opamps\\LT1002 -1232 -352 R0
SYMATTR InstName U5
SYMBOL res -1392 -400 R0
SYMATTR InstName R13
SYMATTR Value {rHigh}
SYMBOL res -1392 -256 R0
SYMATTR InstName R14
SYMATTR Value {rLow}
SYMBOL diode -688 -624 R0
SYMATTR InstName D5
SYMBOL diode -464 -624 R0
SYMATTR InstName D6
SYMBOL diode -688 560 R0
SYMATTR InstName D7
SYMBOL diode -464 560 R0
SYMATTR InstName D8
TEXT -176 -560 Left 2 !.tran 0 200m 0 1u
TEXT -208 -448 Left 2 !.step param rHigh list 100 200 50k 99.8k 99.9k\n.param rLow 100k - rHigh
